@*
* Copyright 2021 HM Revenue & Customs
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*     http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*@

@import config.AppConfig
@import models.usermatching.UserDetailsModel
@import views.agent.helpers.ConfirmClientIdConstants._
@import views.html.templates.AgentMainTemplate
@import views.html.templates.injected.{CheckYourAnswersRow, CheckYourAnswers => CYA}

@this(
  agentMainTemplate: AgentMainTemplate,
  checkYourAnswers: CYA,
  checkYourAnswersRow: CheckYourAnswersRow
)

@(
    userDetailsModel: UserDetailsModel,
    postAction: Call,
    backUrl: String
)(implicit request: Request[_], messages: Messages, appConfig: AppConfig)

@agentMainTemplate(title = messages("agent.client-details.summary.title"), backLink = Some(backUrl)) {
  @checkYourAnswers(heading = messages("agent.client-details.summary.heading"), postAction = postAction, headingHidden = Some(messages("agent.client-details.summary.heading_hidden"))) {
    @checkYourAnswersRow(
      field = FirstNameId,
      question = messages("agent.client-details.summary.first_name"),
      answer = userDetailsModel.firstName,
      changeUrl = Some(controllers.agent.matching.routes.ClientDetailsController.show(editMode = true).url),
      hiddenContent = Some(messages("userdetail.cya.change.firstname"))
    )

    @checkYourAnswersRow(
      field = LastNameId,
      question = messages("agent.client-details.summary.last_name"),
      answer = userDetailsModel.lastName,
      changeUrl = Some(controllers.agent.matching.routes.ClientDetailsController.show(editMode = true).url),
      hiddenContent = Some(messages("userdetail.cya.change.lastname"))
    )

    @checkYourAnswersRow(
      field = NinoId,
      question = messages("agent.client-details.summary.nino"),
      answer = userDetailsModel.ninoInDisplayFormat,
      changeUrl = Some(controllers.agent.matching.routes.ClientDetailsController.show(editMode = true).url),
      hiddenContent = Some(messages("userdetail.cya.change.nationalinsurance"))
    )

    @checkYourAnswersRow(
      field = DobId,
      question = messages("agent.client-details.summary.dob"),
      answer = userDetailsModel.dateOfBirth.toCheckYourAnswersDateFormat,
      changeUrl = Some(controllers.agent.matching.routes.ClientDetailsController.show(editMode = true).url),
      hiddenContent = Some(messages("userdetail.cya.change.dateofbirth"))
    )
  }
}

@*
 * Copyright 2023 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import play.api.i18n.Messages
@import play.api.mvc.Request
@import views.html.helpers.{SignOutButton, PageHeadingHelper, UnorderedList}
@import views.html.templates.PrincipalMainTemplate
@import config.AppConfig
@import uk.gov.hmrc.hmrcfrontend.views.html.helpers.HmrcNewTabLinkHelper
@import uk.gov.hmrc.hmrcfrontend.views.viewmodels.newtablinkhelper.NewTabLinkHelper

@this(
    mainTemplate: PrincipalMainTemplate,
    appConfig: AppConfig,
    hmrcNewTabLinkHelper: HmrcNewTabLinkHelper,
    signOutButton: SignOutButton,
    pageHeadingHelper: PageHeadingHelper,
    ul: UnorderedList
)

@(exemptionReason: Option[String])(implicit request: Request[_], messages: Messages)

@defining(exemptionReason.getOrElse("")) { reason =>

  @mainTemplate(
    title = reason match {
      case "MTD Exempt Enduring" => messages("individual.cannot-take-part-enduring.heading")
      case "MTD Exempt 26/27" => messages("individual.cannot-take-part-exempt-26-27.heading")
      case "Digitally Exempt" => messages("individual.digitally-exempt.heading")
      case "No Data" => messages("individual.cannot-take-part-no-data.heading")
      case _ => messages("cannot-sign-up-yet.title")
    }
  ) {

    @reason match {
      case "MTD Exempt Enduring" => {

        <h1 class="govuk-heading-l">@messages("individual.cannot-take-part-enduring.heading")</h1>

        <p class="govuk-body">
            @Html(messages(
            key = "individual.cannot-take-part-enduring.para1",
            args = hmrcNewTabLinkHelper(NewTabLinkHelper(messages("individual.cannot-take-part-enduring.para1.link-text"), Some(messages("individual.cannot-take-part-enduring.para1.link-href"))))
        ))
        </p>

        <p class="govuk-body">
          @hmrcNewTabLinkHelper(NewTabLinkHelper(messages("individual.cannot-take-part-enduring.link"), Some(messages("individual.cannot-take-part-enduring.link-href"))))
        </p>
      }

     case "MTD Exempt 26/27" => {

        <h1 class="govuk-heading-l">@messages("individual.cannot-take-part-exempt-26-27.heading")</h1>

        <p class="govuk-body">@messages("individual.cannot-take-part-exempt-26-27.para1")</p>

        <p class="govuk-body">@messages("individual.cannot-take-part-exempt-26-27.para2")</p>

        <p class="govuk-body">
          @hmrcNewTabLinkHelper(NewTabLinkHelper(messages("individual.cannot-take-part-exempt-26-27.link"), Some(messages("individual.cannot-take-part-exempt-26-27.link-href"))))
        </p>
      }

      case "Digitally Exempt" => {

        <h1 class="govuk-heading-l">@messages("individual.digitally-exempt.heading")</h1>

        <p class="govuk-body">
            @Html(messages(
            key = "individual.digitally-exempt.para"
            ))
        </p>

        <p class="govuk-body">
            @Html(messages(
            key = "individual.digitally-exempt.para1"
            ))
        </p>

        <p class="govuk-body" id="exemptions-info-tab-link">
            @hmrcNewTabLinkHelper(NewTabLinkHelper(messages("individual.digitally-exempt.para2.link-text"), Some(messages("individual.digitally-exempt.para2.link-href"))))
        </p>
      }

    case "No Data" => {

    <h1 class="govuk-heading-l">@messages("individual.cannot-take-part-no-data.heading")</h1>

    <p class="govuk-body">@messages("individual.cannot-take-part-no-data.para1")</p>

    @ul(
        leadIn=messages("individual.cannot-take-part-no-data.para2"),
        Seq(
            Text(messages("individual.cannot-take-part-no-data.list1")),
            Text(messages("individual.cannot-take-part-no-data.list2")),
            Text(messages("individual.cannot-take-part-no-data.list3"))
        )
    )

    <p class="govuk-body">
        @Html(messages(
        key = "individual.cannot-take-part-no-data.para3",
        args = hmrcNewTabLinkHelper(NewTabLinkHelper(messages("individual.cannot-take-part-no-data.link"), Some(messages("individual.cannot-take-part-no-data.link-href"))))
        )).
    </p>
    }



      case _ => {

        <h1 class="govuk-heading-l">@messages("cannot-sign-up-yet.heading")</h1>

        <p class="govuk-body" id="cannot-sign-up-yet-link">
       @hmrcNewTabLinkHelper(NewTabLinkHelper(messages("cannot-sign-up-yet.para1"), Some(appConfig.govukGuidanceITSAWhoCanSignUpVoluntarily)))
        </p>

        <p class="govuk-body">@messages( "cannot-sign-up-yet.para2")</p>

        <p class="govuk-body">@messages("cannot-sign-up-yet.para3")</p>
      }
    }
    @signOutButton()
  }
}